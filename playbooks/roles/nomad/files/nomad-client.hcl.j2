# Full configuration options can be found at https://www.nomadproject.io/docs/configuration

datacenter = "dc1"

data_dir  = "/opt/nomad/data"
bind_addr = "0.0.0.0"

#server {
#  enabled = false
#}

client {
  enabled = true
  #servers = ["127.0.0.1"]
}

acl {
  enabled = false
}

vault {
  enabled = true
  address = "http://10.30.0.63:8200"
  create_from_role = "nomad-cluster"

}


# You do not need to add this to your configuration file. This is an example
# that is part of Nomad's internal default configuration for Consul integration.
consul {
  # The address to the Consul agent.
  address = "127.0.0.1:8500"

  # The service name to register the server and client with Consul.
  #server_service_name = "nomad"
  client_service_name = "nomad-client"

  # Enables automatically registering the services.
  auto_advertise = true

  # Enabling the server and client to bootstrap using Consul.
  #server_auto_join = true
  client_auto_join = true
}

plugin "docker" {
  config {
    allow_privileged = true
    volumes {
      enabled      = true
    }
  }
}